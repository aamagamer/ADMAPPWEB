<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portal de Recursos Humanos</title>
  <link rel="stylesheet" href="css/admin.css" />
  <link rel="stylesheet" href="css/index.css" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    rel="stylesheet"
  />
  <link rel="icon" href="Media/favicon.ico" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
  />
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="js/utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

</head>
<body>
  <header>
    <div class="header-container">
      <a href="#" class="back-button" onclick="logout()">
        <i class="bi bi-arrow-left"></i>
        Cerrar Sesión
      </a>
      <img src="Media/logo.png" alt="Logo" class="logo" />
      <h1>Portal De Recursos Humanos</h1>
    </div>
  </header>

 <!-- Saludo nombre empleado llenado dinamicamente -->
  <div class="welcome-section">
    <div class="welcome-message">
      ¡Hola <span id="employee-name"></span>!
    </div>
    <p>¿Qué deseas hacer hoy?</p>
  </div>

  <div class="content-wrapper">
    <div class="employee-table-container">
      <h2>
        Empleados Registrados
        <button class="add-employee-btn" onclick="abrirModalAltaEmpleado()">
          Agregar empleado +
        </button>

        <button
          class="add-employee-btn"
          onclick="abrirModalExportarExcel()"
          style="margin-left: 2px"
        >
          Exportar Excel +
        </button>
      </h2>

      <div
  style="
    display: flex;
    justify-content: flex-end;
    align-items: center;
    margin-bottom: 10px;
    gap: 10px;
  "
>
  <!-- Filtro por Estado -->
  <select
    id="filtro-estado"
    onchange="aplicarFiltros()"
    style="
      padding: 8px 12px;
      border-radius: 6px;
      font-family: Arial, sans-serif;
      font-size: 1rem;
      border: 1.5px solid #bbb;
      background-color: #fff;
      cursor: pointer;
      outline: none;
      transition: border-color 0.3s ease;
    "
  >
   <!-- Filtros de actividad de empleado -->
    <option value="activos">Activos</option>
    <option value="inactivos">Inactivos</option>
    <option value="todos">Todos</option>
  </select>

  <!-- Filtro por Área -->
  <select
    id="filtro-area"
    onchange="aplicarFiltros()"
    style="
      padding: 8px 12px;
      border-radius: 6px;
      font-family: Arial, sans-serif;
      font-size: 1rem;
      border: 1.5px solid #bbb;
      background-color: #fff;
      cursor: pointer;
      outline: none;
      transition: border-color 0.3s ease;
      margin-right: 350px;
    "
  >
    <option value="">Todas las áreas</option>
    <!-- Las opciones se llenarán dinámicamente -->
  </select>
 <!-- Input de busqueda -->
  <input
    type="text"
    id="busquedaEmpleado"
    oninput="buscarEmpleado()"
    placeholder="Buscar por ID o nombre"
    style="
      padding: 8px;
      width: 250px;
      margin-right: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
    "
  />
  <button
    onclick="buscarEmpleado()"
    style="
      background-color: #2c3e50;
      color: white;
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    "
  >
    <i class="bi bi-search"></i>
  </button>
</div>
 <!-- Acciones -->
      <table class="employee-table">
        <thead>
          <tr>
            <th>Número</th>
            <th>Nombre</th>
            <th>Puesto</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="empleados-body"></tbody>
      </table>
    </div>

    <!-- Botón dropdown con todas las opciones -->
    <div class="options-container">
      <div class="dropdown-container">
        <button class="dropdown-button" onclick="toggleDropdown()">
  <span>Menú</span>
  <span id="menu-notificacion" class="notification-badge" style="display: none">0</span>
  <i class="bi bi-chevron-down dropdown-arrow"></i>
</button>

        <div class="dropdown-content" id="dropdownContent">
          <div
            class="dropdown-item"
            onclick="navigateToOption('evaluarSoli.html')"
          >
            <i class="bi bi-search dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">
                Solicitudes
                <span
            id="dropdown-notificacion-solicitudes"
            class="notification-badge"
            style="display: none"
            >0</span>
              </div>
              <div class="dropdown-item-description">
                Evalúa las solicitudes de tus empleados
              </div>
            </div>
          </div>

          <div
            class="dropdown-item"
            onclick="navigateToOption('verSolicitudes.html')"
          >
            <i class="bi bi-eye dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Ver Solicitudes</div>
              <div class="dropdown-item-description">
                Mira el historial de las solicitudes evaluadas
              </div>
            </div>
          </div>

          <div
            class="dropdown-item"
            onclick="navigateToOption('incapacidad.html')"
          >
            <i class="bi bi-hospital dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Incapacidades</div>
              <div class="dropdown-item-description">Autorizaciones</div>
            </div>
          </div>

          <div
            class="dropdown-item"
            onclick="navigateToOption('verIncapacidades.html')"
          >
            <i class="bi bi-hospital dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Ver Incapacidades</div>
              <div class="dropdown-item-description">
                Consulta que empleados están en una incapacidad
              </div>
            </div>
          </div>



          <div class="dropdown-item" onclick="abrirModalVerDiasFestivos()">
            <i class="bi bi-calendar dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Asuetos</div>
              <div class="dropdown-item-description">
                Ve los días festivos previamente agregados
              </div>
            </div>
          </div>

          <div class="dropdown-item" onclick="abrirModalMes()">
            <i class="bi bi-calendar-plus dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Aniversario Laboral</div>
              <div class="dropdown-item-description">
                Ver aniversarios laborales por mes.
              </div>
            </div>
          </div>

          <div
            class="dropdown-item"
            onclick="navigateToOption('reporte.html')"
          >
            <i class="bi bi-bar-chart-line dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Reportes</div>
              <div class="dropdown-item-description">Genera un reporte</div>
            </div>
          </div>

          <div class="dropdown-item" onclick="navigateToOption('verReportes.html')">
  <i class="bi bi-bar-chart-line dropdown-item-icon"></i>
  <div class="dropdown-item-content">
    <div class="dropdown-item-title">
      Ver Reportes
      <span 
        id="dropdown-notificacion-reportes"
        class="notification-badge"
        style="display: none">0</span>
    </div>
    <div class="dropdown-item-description">
      Visualiza los reportes generados
    </div>
  </div>
</div>


           <div
            class="dropdown-item"
            onclick="navigateToOption('acta.html')"
          >
            <i class="bi bi-bar-chart-line dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Generar Acta Administrativa</div>
              <div class="dropdown-item-description">
                Da de alta actas administrativas a tus empleados
              </div>
            </div>
          </div>

          <div
            class="dropdown-item"
            onclick="navigateToOption('vacante.html')"
          >
            <i class="bi bi-pin-map dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Vacante</div>
              <div class="dropdown-item-description">Administra</div>
            </div>
          </div>

          <div
            class="dropdown-item"
            onclick="navigateToOption('verVacantes.html')"
          >
            <i class="bi bi-pencil dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Ver Vacantes</div>
              <div class="dropdown-item-description">
                Administra las vacantes solicitadas por tus compañeros
              </div>
            </div>
          </div>

          <div
            class="dropdown-item"
            onclick="navigateToOption('historial.html')"
          >
            <i class="bi bi-clock dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Historial</div>
              <div class="dropdown-item-description">
                Consulta todos los reportes, permisos y vacaciones.
              </div>
            </div>
          </div>

          
          

          <div
            class="dropdown-item"
            onclick="navigateToOption('stats.html')"
          >
            <i class="bi bi-pencil dropdown-item-icon"></i>
            <div class="dropdown-item-content">
              <div class="dropdown-item-title">Ver Gráficas</div>
              <div class="dropdown-item-description">
                Administra las estadísticas
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Todos los modales existentes se mantienen igual -->
    <!-- Modal para ver detalles del empleado -->
    <div id="modal" class="modal hidden">
      <div class="modal-content">
        <span class="close" onclick="cerrarModal()">&times;</span>
        <h2>Detalle del Empleado</h2>
        <div id="modal-body"></div>
      </div>
    </div>

    <!-- Modal de datos generales  -->
<div id="modal-generales" class="modal hidden">
  <div class="modal-content">
    <span class="close" onclick="cerrarModalGenerales()">&times;</span>
    <h2>Datos Generales del Empleado</h2>
    <div id="modal-generales-body" class="modal-body-estilo"></div>
  </div>
</div>



    <!-- Modal para dar de alta empleado -->
    <div id="add-employee-modal" class="modal hidden">
      <div class="modal-content add-employee-modal">
        <span class="close" onclick="cerrarModalAltaEmpleado()">&times;</span>
        <h2>Dar de alta nuevo empleado</h2>
        <form id="employee-form" class="add-employee-form">
          <!-- Campo 1 -->
          <div class="form-group">
            <label for="idUsuario">ID Usuario:</label>
            <input type="number" id="idUsuario" name="idUsuario"  />
          </div>

          <!-- Campo 2 (Combobox) -->
          <div class="form-group">
            <label for="tipoRol">Tipo de Rol:</label>
            <select id="tipoRol" name="tipoRol" >
              <option value="">Cargando roles...</option>
            </select>
          </div>

          <div class="form-group">
            <label>Áreas:</label>
            <button
              type="button"
              class="toggle-desplegable"
              id="toggle-areas"
              onclick="toggleAreas()"
            >
              Mostrar Áreas ▼
            </button>

            <div id="checkbox-areas" class="desplegable-container">
              <!-- Checkboxes se cargarán aquí -->
            </div>
            <small>Puedes seleccionar una o más áreas.</small>
          </div>

          <!-- Campo 4 -->
          <div class="form-group">
            <label for="nombres">Nombres:</label>
            <input type="text" id="nombres" name="nombres"  />
          </div>

          <!-- Campo 5 -->
          <div class="form-group">
            <label for="paterno">Apellido Paterno:</label>
            <input type="text" id="paterno" name="paterno"  />
          </div>

          <!-- Campo 6 -->
          <div class="form-group">
            <label for="materno">Apellido Materno:</label>
            <input type="text" id="materno" name="materno" />
          </div>

          <!-- Campo 7 -->
          <div class="form-group">
            <label for="fechaNacimiento">Fecha de Nacimiento:</label>
            <input
              type="date"
              id="fechaNacimiento"
              name="fechaNacimiento"
              
            />
          </div>

          <!-- Campo 8 -->
          <div class="form-group">
            <label for="direccion">Dirección:</label>
            <input type="text" id="direccion" name="direccion"  />
          </div>

          <!-- Campo 9 -->
          <div class="form-group">
  <label for="codigoPostal">Código Postal:</label>
  <input
    type="text"
    id="codigoPostal"
    placeholder="Ej. 12345"
    name="codigoPostal"
    maxlength="5"
    title="Por favor ingrese exactamente 5 dígitos numéricos"
   
  />
</div>

          <!-- Campo 10 -->
          <div class="form-group">
            <label for="correo">Correo Electrónico:</label>
            <input type="email" id="correo" name="correo"  />
          </div>

          <!-- Campo 11 -->
          <div class="form-group">
            <label for="nss">Número de Seguro Social (NSS):</label>
            <input
              type="text"
              id="nss"
              name="nss"
              placeholder="Ej. 54-14-96-2319-8"
             
            />
          </div>

          <!-- Campo 12 -->
          <div class="form-group">
            <label for="telefono">Teléfono:</label>
            <input
              type="tel"
              id="telefono"
              name="telefono"
              placeholder="Ej. 8441234567"
              title="Por favor ingrese 10 dígitos seguidos."
              
            />
            
          </div>

          <!-- Campo 13 -->
          <div class="form-group">
            <label for="fechaIngreso">Fecha de Ingreso:</label>
            <input
              type="date"
              id="fechaIngreso"
              name="fechaIngreso"
              
            />
          </div>

          <!-- Campo 14 -->
          <div class="form-group">
            <label for="rfc">RFC:</label>
            <input
              type="text"
              id="rfc"
              name="rfc"
              placeholder="Ej. OACD123456789"
              maxlength="13"
            
            />
          </div>

          <!-- Campo 15 -->
          <div class="form-group">
            <label for="curp">CURP:</label>
            <input
              type="text"
              id="curp"
              name="curp"
              placeholder="Ej. GARC850701HDFRNS09"
              title="Por favor ingrese 18 caracteres alfanuméricos"
              maxlength="18"
            />
          
          </div>

          <!-- Campo 16 -->
          <div class="form-group">
            <label for="puesto">Puesto:</label>
            <input type="text" id="puesto" name="puesto"  />
          </div>

          <!-- Campo 17 -->
          <div class="form-group">
            <label for="nombreContactoEmergencia"
              >Beneficiario/Contacto Emergencia:</label
            >
            <input
              type="text"
              id="nombreContactoEmergencia"
              name="nombreContactoEmergencia"
             
            />
          </div>

          <!-- Campo 18 -->
          <div class="form-group">
            <label for="telefonoEmergencia">Teléfono Emergencia:</label>
            <input
              type="tel"
              id="telefonoEmergencia"
              name="telefonoEmergencia"
              title="Por favor ingrese 1o dígitos sin espacios."
             
            />
          </div>

          <!-- Campo 19 -->
          <div class="form-group">
            <label for="parentesco">Parentesco:</label>
            <input type="text" id="parentesco" name="parentesco"  />
          </div>

          <!-- Campo 20 -->
          <div class="form-group">
            <label for="contraseña">Contraseña:</label>
            <input
              type="password"
              id="contraseña"
              name="contraseña"
              
            />
          </div>

          <!-- Campo 21 -->
          <div class="form-group">
            <label for="confirmarContraseña">Confirmar Contraseña:</label>
            <input
              type="password"
              id="confirmarContraseña"
              name="confirmarContraseña"
              
            />
          </div>

          <!-- Campo Sueldo Diario -->
          <div class="form-group">
            <label for="sueldoDiario">Sueldo Diario:</label>
            <input
              type="number"
              id="sueldoDiario"
              name="SueldoDiario"
              step="0.01"
             
            />
          </div>

          <!-- Campo Sueldo Semanal -->
          <div class="form-group">
            <label for="sueldoSemanal">Sueldo Semanal:</label>
            <input
              type="number"
              id="sueldoSemanal"
              name="SueldoSemanal"
              step="0.01"
             
            />
          </div>

          <!-- Campo Bono Semanal -->
          <div class="form-group">
            <label for="bonoSemanal">Bono Semanal:</label>
            <input
              type="number"
              id="bonoSemanal"
              name="BonoSemanal"
              step="0.01"
           
            />
          </div>

          <!-- Campo Sueldo Mensual -->
          <div class="form-group">
            <label for="Mensual">Sueldo Mensual:</label>
            <input
              type="number"
              id="Mensual"
              name="Mensual"
              step="0.01"
              
            />
          </div>

          <!-- Campo Vacaciones Disponibles -->
          <div class="form-group">
            <label for="vacacionesDisponibles">Vacaciones Disponibles:</label>
            <input
              type="number"
              id="diasDisponibles"
              name="diasDisponibles"
              
            />
          </div>

          <!-- Campo Empresa que tiene acceso -->
          <div class="form-group">
            <label for="Empresa">Empresa a que tiene acceso:</label>
            <select id="Empresa" name="Empresa" >
              <option value="">Cargando empresas...</option>
            </select>
          </div>

          <!-- Campo Numero de Acceso a la empresa -->
          <div class="form-group">
            <label for="Acceso">Número de acceso a la empresa:</label>
            <input
              type="number"
              id="Acceso"
              name="Acceso"
            />
          </div>

          <div class="form-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="cerrarModalAltaEmpleado()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">
              Guardar Empleado
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal para editar empleado -->
    <div id="edit-employee-modal" class="modal hidden">
      <div class="modal-content add-employee-modal">
        <span class="close" onclick="cerrarModalEditarEmpleado()">&times;</span>
        <h2>Editar Empleado</h2>
        <form id="edit-employee-form" class="add-employee-form">
          <!-- ID -->
          <div class="form-group">
            <label for="edit-idUsuario">ID Usuario:</label>
            <input
              type="number"
              id="edit-idUsuario"
              name="idUsuario"
              readonly
            />
          </div>

          <!-- Rol -->
          <div class="form-group">
            <label for="edit-tipoRol">Tipo de Rol:</label>
            <select id="edit-tipoRol" name="tipoRol" required>
              <option value="">Cargando roles...</option>
            </select>
          </div>

          <!-- Áreas con toggle -->
          <div class="form-group">
            <label>Áreas:</label>
            <button
              type="button"
              class="toggle-desplegable"
              id="edit-toggle-areas"
              onclick="toggleAreas('edit')"
            >
              Mostrar Áreas ▼
            </button>
            <div id="edit-checkbox-areas" class="desplegable-container">
              <!-- checkboxes se insertan dinámicamente -->
            </div>
            <small>Puedes seleccionar una o más áreas.</small>
          </div>

          <!-- Nombres -->
          <div class="form-group">
            <label for="edit-nombres">Nombres:</label>
            <input type="text" id="edit-nombres" name="nombres" required />
          </div>

          <!-- Paterno -->
          <div class="form-group">
            <label for="edit-paterno">Apellido Paterno:</label>
            <input type="text" id="edit-paterno" name="paterno" required />
          </div>

          <!-- Materno -->
          <div class="form-group">
            <label for="edit-materno">Apellido Materno:</label>
            <input type="text" id="edit-materno" name="materno" />
          </div>

          <!-- Fecha de Nacimiento -->
          <div class="form-group">
            <label for="edit-fechaNacimiento">Fecha de Nacimiento:</label>
            <input
              type="date"
              id="edit-fechaNacimiento"
              name="fechaNacimiento"
              required
            />
          </div>

          <!-- Dirección -->
          <div class="form-group">
            <label for="edit-direccion">Dirección:</label>
            <input type="text" id="edit-direccion" name="direccion" required />
          </div>

          <!-- Código Postal -->
          <div class="form-group">
            <label for="edit-codigoPostal">Código Postal:</label>
            <input
              type="text"
              id="edit-codigoPostal"
              name="codigoPostal"
              required
            />
          </div>

          <!-- Correo -->
          <div class="form-group">
            <label for="edit-correo">Correo Electrónico:</label>
            <input type="email" id="edit-correo" name="correo" required />
          </div>

          <!-- NSS -->
          <div class="form-group">
            <label for="edit-nss">Número de Seguro Social (NSS):</label>
            <input type="text" id="edit-nss" name="nss" required />
          </div>

          <!-- Teléfono -->
          <div class="form-group">
            <label for="edit-telefono">Teléfono:</label>
            <input type="tel" id="edit-telefono" name="telefono" required />
          </div>

          <!-- Fecha de Ingreso -->
          <div class="form-group">
            <label for="edit-fechaIngreso">Fecha de Ingreso:</label>
            <input
              type="date"
              id="edit-fechaIngreso"
              name="fechaIngreso"
              required
            />
          </div>

          <!-- RFC -->
          <div class="form-group">
            <label for="edit-rfc">RFC:</label>
            <input type="text" id="edit-rfc" name="rfc" required />
          </div>

          <!-- CURP -->
          <div class="form-group">
            <label for="edit-curp">CURP:</label>
            <input type="text" id="edit-curp" name="curp" required />
          </div>

          <!-- Puesto -->
          <div class="form-group">
            <label for="edit-puesto">Puesto:</label>
            <input type="text" id="edit-puesto" name="puesto" required />
          </div>

          <!-- Contacto de Emergencia -->
          <div class="form-group">
            <label for="edit-nombreContactoEmergencia"
              >Nombre Contacto Emergencia:</label
            >
            <input
              type="text"
              id="edit-nombreContactoEmergencia"
              name="nombreContactoEmergencia"
              required
            />
          </div>

          <!-- Teléfono Emergencia -->
          <div class="form-group">
            <label for="edit-telefonoEmergencia">Teléfono Emergencia:</label>
            <input
              type="tel"
              id="edit-telefonoEmergencia"
              name="telefonoEmergencia"
              required
            />
          </div>

          <!-- Parentesco -->
          <div class="form-group">
            <label for="edit-parentesco">Parentesco:</label>
            <input
              type="text"
              id="edit-parentesco"
              name="parentesco"
              required
            />
          </div>

          <!-- Contraseña -->
          <div class="form-group">
            <label for="edit-contraseña">Contraseña:</label>
            <input
              type="password"
              id="edit-contraseña"
              name="contraseña"
              required
            />
          </div>

          <!-- Confirmar Contraseña -->
          <div class="form-group">
            <label for="edit-confirmarContraseña">Confirmar Contraseña:</label>
            <input
              type="password"
              id="edit-confirmarContraseña"
              name="confirmarContraseña"
              required
            />
          </div>

          <!-- Sueldo Diario -->
          <div class="form-group">
            <label for="edit-sueldoDiario">Sueldo Diario:</label>
            <input
              type="number"
              id="edit-sueldoDiario"
              name="SueldoDiario"
              step="0.01"
              required
            />
          </div>

          <!-- Sueldo Semanal -->
          <div class="form-group">
            <label for="edit-sueldoSemanal">Sueldo Semanal:</label>
            <input
              type="number"
              id="edit-sueldoSemanal"
              name="SueldoSemanal"
              step="0.01"
              required
            />
          </div>

          <!-- Bono Semanal -->
          <div class="form-group">
            <label for="edit-bonoSemanal">Bono Semanal:</label>
            <input
              type="number"
              id="edit-bonoSemanal"
              name="BonoSemanal"
              step="0.01"
              required
            />
          </div>

          <!-- Sueldo Mensual -->
          <div class="form-group">
            <label for="edit-Mensual">Sueldo Mensual:</label>
            <input
              type="number"
              id="edit-Mensual"
              name="Mensual"
              step="0.01"
              required
            />
          </div>

          <!-- Fecha de Baja -->
          <div class="form-group">
            <label for="edit-fechaBaja">Fecha de Baja:</label>
            <input type="date" id="edit-fechaBaja" name="fechaBaja" />
          </div>

          <!-- Comentario de Salida -->
          <div class="form-group">
            <label for="edit-comentarioSalida">Comentario de Salida:</label>
            <input
              type="text"
              id="edit-comentarioSalida"
              name="comentarioSalida"
            />
          </div>

          <!-- Vacaciones -->
          <div class="form-group">
            <label for="edit-vacaciones">Vacaciones:</label>
            <input type="number" id="edit-vacaciones" name="Vacaciones" />
          </div>

          <!-- Vacaciones Disponibles -->
          <div class="form-group">
            <label for="edit-diasDisponibles">Vacaciones disponibles:</label>
            <input
              type="text"
              id="edit-diasDisponibles"
              name="diasDisponibles"
            />
          </div>

          <!-- Empresa Acceso -->
          <div class="form-group">
            <label for="edit-empresa">Empresa a que tiene acceso:</label>
            <select id="edit-empresa" name="empresa">
              <option value="">Cargando empresas...</option>
            </select>
          </div>

          <!-- Numero de acceso -->
          <div class="form-group">
            <label for="edit-acceso">Número de acceso a la empresa:</label>
            <input
              type="text"
              id="edit-acceso"
              name="acceso"
            />
          </div>

          <!-- Botones -->
          <div class="form-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="cerrarModalEditarEmpleado()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">
              Actualizar Empleado
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal para agregar día festivo -->
    <div id="add-holiday-modal" class="modal hidden">
      <div class="modal-content add-employee-modal">
        <span class="close" onclick="cerrarModalAgregarFestivo()">&times;</span>
        <h2>Agregar Día Festivo</h2>
        <form id="holiday-form" class="add-employee-form">
          <!-- Campo Fecha -->
          <div class="form-group">
            <label for="fechaFestivo">Fecha:</label>
            <input type="date" id="fechaFestivo" name="fechaFestivo" required />
          </div>

          <!-- Campo Descripción -->
          <div class="form-group">
            <label for="descripcionFestivo">Descripción:</label>
            <input
              type="text"
              id="descripcionFestivo"
              name="descripcionFestivo"
              required
              placeholder="Ej. Día de la Independencia"
            />
          </div>

          <div class="form-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="cerrarModalAgregarFestivo()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">
              Agregar Festivo
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal para ver días festivos -->
<div id="ver-dias-festivos-modal" class="modal hidden">
<div class="modal-content add-employee-modal">
  <span class="close" onclick="cerrarModalVerDiasFestivos()">&times;</span>
  <h2>Días Festivos</h2>

  <!-- Selector de año -->
  <div class="form-group">
    <label for="anioFestivo">Selecciona un año:</label>
    <select id="anioFestivo" onchange="cargarDiasFestivos()">
      <!-- Se llenará dinámicamente -->
    </select>
  </div>

  <!-- Lista de días festivos -->
  <div id="listaDiasFestivos" class="dias-festivos-lista">
    <!-- Aquí se mostrarán los días -->
  </div>

  <div class="form-actions">
    <button
      type="button"
      class="btn btn-secondary"
      onclick="cerrarModalVerDiasFestivos()"
    >
      Cerrar
    </button>
  </div>
</div>
</div>


    <!-- Modal para agregar área -->
    <div id="add-area-modal" class="modal hidden">
      <div class="modal-content add-employee-modal">
        <span class="close" onclick="cerrarModalAgregarArea()">&times;</span>
        <h2>Agregar Área</h2>
        <form id="area-form" class="add-employee-form">
          <!-- Campo Nombre del Área -->
          <div class="form-group">
            <label for="nombreArea">Nombre del Área:</label>
            <input
              type="text"
              id="nombreArea"
              name="nombreArea"
              required
              placeholder="Ej. Recursos Humanos"
            />
          </div>

          <div class="form-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="cerrarModalAgregarArea()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">Agregar Área</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal para agregar Empresa -->
<div id="add-empresa-modal" class="modal hidden">
  <div class="modal-content add-employee-modal">
    <span class="close" onclick="cerrarModalAgregarEmpresa()">&times;</span>
    <h2>Agregar Empresa colaboradora</h2>
    <form id="empresa-form" class="add-employee-form">
      <div class="form-group">
        <label for="nombreEmpresa">Nombre de la empresa:</label>
        <input
          type="text"
          id="nombreEmpresa"
          name="nombreEmpresa"
          required
          placeholder="Ej. Stellantis"
        />
      </div>

      <div class="form-actions">
        <button
          type="button"
          class="btn btn-secondary"
          onclick="cerrarModalAgregarEmpresa()"
        >
          Cancelar
        </button>
        <button type="submit" class="btn btn-primary">Agregar Empresa</button>
      </div>
    </form>
  </div>
</div>

    
    <!-- Modal para exportar a Excel (actualizado) -->
<div id="export-excel-modal" class="modal hidden">
  <div class="modal-content add-employee-modal">
    <span class="close" onclick="cerrarModalExportarExcel()">&times;</span>

    <!-- Paso 1: Selección de campos -->
    <div id="paso-campos">
      <h2>Exportar datos (1/2)</h2>
      <p>Selecciona los campos que deseas incluir en el reporte:</p>

      <!-- Botones debajo del texto -->
      <div class="export-nav-buttons" style="display: flex; gap: 10px; margin: 10px 0;">
  <button class="btn btn-outline-primary" type="button" onclick="seleccionarCamposPorCategoria('generales', this)">Datos generales</button>
  <button class="btn btn-outline-primary" type="button" onclick="seleccionarCamposPorCategoria('baja', this)">Baja</button>
  <button class="btn btn-outline-primary" type="button" onclick="seleccionarCamposPorCategoria('sueldo', this)">Sueldo</button>
  <button class="btn btn-outline-primary" type="button" onclick="seleccionarCamposPorCategoria('vacaciones', this)">Vacaciones</button>
</div>



      <div id="export-fields-container" class="fields-grid"></div>
      <div class="form-actions">
        <button
          type="button"
          class="btn btn-secondary"
          onclick="cerrarModalExportarExcel()"
        >
          Cancelar
        </button>
        <button
          type="button"
          class="btn btn-primary"
          onclick="mostrarPasoEmpleados()"
        >
          Siguiente
        </button>
      </div>
    </div>

    <!-- Paso 2: Selección de empleados -->
    <div id="paso-empleados" class="hidden">
      <h2>Exportar datos (2/2)</h2>
      <p>Selecciona los empleados a incluir en el reporte:</p>
      <div style="margin-bottom: 10px"></div>
      <div id="export-employees-container" class="fields-grid"></div>
      <div class="form-actions">
        <button
          type="button"
          class="btn btn-secondary"
          onclick="mostrarPasoCampos()"
        >
          Anterior
        </button>
        <button
          type="button"
          class="btn btn-primary"
          onclick="exportarExcel()"
        >
          Generar Excel
        </button>
      </div>
    </div>
  </div>
</div>


    <div id="modal-confirmacion" class="modal-confirmacion hidden">
      <div class="modal-contenido">
        <p id="modal-texto">¿Quieres eliminar este empleado?</p>
        <div class="modal-botones">
          <button id="modal-cancelar" class="btn">Cancelar</button>
          <button id="modal-confirmar" class="btn btn-danger">Eliminar</button>
        </div>
      </div>
    </div>

    <!-- Modal de Empleados por Mes de Ingreso -->
<div id="modal-mes-ingreso" class="modal-confirmacion" style="display: none;"

     style="position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.5); display: flex;
            justify-content: center; align-items: center; z-index: 9999;">
  
  <div class="modal-contenido"
       style="background-color: #fff; padding: 24px; border-radius: 10px;
              width: 90%; max-width: 500px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);">
    
    <h3 style="margin-top: 0; font-size: 20px; color: #2c3e50; text-align: center;">
      Empleados por Mes de Ingreso
    </h3>

    <label for="filtro-mes" style="display: block; margin: 16px 0 8px; font-weight: bold; color: #333;">
      Selecciona un mes:
    </label>

    <select id="filtro-mes" class="form-control"
            style="width: 100%; padding: 8px 10px; font-size: 14px;
                   border: 1px solid #ccc; border-radius: 5px;">
      <option value="1">Enero</option>
      <option value="2">Febrero</option>
      <option value="3">Marzo</option>
      <option value="4">Abril</option>
      <option value="5">Mayo</option>
      <option value="6">Junio</option>
      <option value="7">Julio</option>
      <option value="8">Agosto</option>
      <option value="9">Septiembre</option>
      <option value="10">Octubre</option>
      <option value="11">Noviembre</option>
      <option value="12">Diciembre</option>
    </select>

    <div id="resultado-empleados"
         style="margin-top: 1rem; max-height: 250px; overflow-y: auto;
                padding: 10px; background-color: #f9f9f9; border: 1px solid #eee;
                border-radius: 5px; font-size: 14px;">
      <!-- Resultados aquí -->
    </div>

    <div class="modal-botones"
         style="margin-top: 20px; text-align: right;">
      <button id="cerrar-modal-mes" class="btn"
              style="padding: 8px 16px; background-color: #007bff;
                     border: none; color: #fff; border-radius: 5px;
                     cursor: pointer; transition: background-color 0.3s;">
        Cerrar
      </button>
    </div>
  </div>
</div>


    
<div id="modal-baja-empleado" class="modal hidden">
  <div class="modal-content">
    <span class="close" onclick="cerrarModalBajaEmpleado()">&times;</span>
    <h2>Dar de Baja Empleado</h2>

    <div style="margin-bottom: 15px">
      <p>
        Empleado: <strong id="nombre-empleado-baja"></strong> <br /><br />
      </p>
      <p>ID: <strong id="id-empleado-baja"></strong></p>
    </div>

    <form id="form-baja-empleado">
      <input type="hidden" id="baja-idUsuario" />

      <div class="form-group">
        <label for="baja-fecha">Fecha de Baja:</label>
        <input type="date" id="baja-fecha" name="fechaBaja" required />
      </div>

      <!-- Combobox para RazonBaja -->
      <div class="form-group">
        <label for="baja-razon">Razón de Baja:</label>
        <select id="baja-razon" name="idRazonBaja" required>
          <option value="">Seleccione una razón</option>
        </select>
      </div>

      <div class="form-group">
        <label for="baja-comentario">Comentarios sobre la baja:</label>
        <textarea
          id="baja-comentario"
          name="comentarioSalida"
          rows="4"
          required
          class="estilo-textarea"
        ></textarea>
      </div>

      <div class="form-actions">
        <button
          type="button"
          class="btn btn-secondary"
          onclick="cerrarModalBajaEmpleado()"
        >
          Cancelar
        </button>
        <button type="submit" class="btn btn-danger">Confirmar Baja</button>
      </div>
    </form>
  </div>
</div>
<script src = "js/rh.js"></script>
  </body>
</html>
